// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.26/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/builder/columnBarLine/_ComparisonUtil",["dojo/_base/lang","../../ChartTypes","../ChartPlots"],function(h,g,k){return{getComparisonPlotName:function(a,b){return b&&b.chartType===g.LINE&&!g.isLineLike(a)?k.SECONDARY:null},isComparisonInPrimaryPlot:function(a,b){return!this.getComparisonPlotName(a,b)},getEffectiveNumberOfSeries:function(a,b,c,d,f){return this.canShowComparison(c,a,d)?d?a.length+1+(f?f.length:0):this.isComparisonInPrimaryPlot(b,
c)?2*a.length:a.length:a.length},canShowComparison:function(a,b,c){return a&&(c||1===b.length||2===b.length)},updateSeriesItemsForComparisonInfo:function(a){function b(e){return a.ge.getFieldValueAt("StdGeographyName",e)}if(this.canShowComparison(a.comparisonInfo,a.seriesItems,a.isMultiFeatureChart)){var c=[a.selectedComparisonAreaId];a.additionalComparisonAreaIds&&(c=c.concat(a.additionalComparisonAreaIds));if(a.isMultiFeatureChart)if(g.isLineLike(a.chartType)){var d=a.seriesItems.slice();c.forEach(function(e){d.push({isComparisonSeries:!0,
label:b(e),points:a.seriesItems[0].points.map(function(b){return{label:b.label,value:{value:a.ge.getFieldValueAt(b.fieldInfo.name,e)}}})})});a.seriesItemsWithComparison=d}else{var f=a.seriesItems.map(function(a){a=h.mixin({},a);a.points=a.points.slice();return a});c.forEach(function(e){f.forEach(function(c){var d=c.points[0];c.points.push({label:b(e),color:d.color,value:{value:a.ge.getFieldValueAt(d.fieldInfo.name,e)}})})});a.seriesItems=f;delete a.comparisonInfo}else d=[],a.seriesItems.forEach(function(c,
f){d.push(c);d.push({isComparisonSeries:!0,label:b(a.selectedComparisonAreaId)+(1<a.seriesItems.length?" ("+c.label+")":""),points:c.points.slice()})}),a.seriesItemsWithComparison=d}}}});