// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.26/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/printing/HeaderFooterSettingsBuilder",["dojo/when","esri/dijit/geoenrichment/utils/DateUtil","../core/supportClasses/templateJsonUtils/TemplateJsonAnalyzer"],function(h,k,l){return{createHeaderFooterParams:function(b,a,c){var f;f=a.dynamicReportInfo.isMultiFeature?[a.dynamicReportInfo.combinedAreasInfo]:b.getAnalysisAreas();var e=a.getDocumentDefaultStyles();return h(this._getSourceText(b,a,c),function(g){return f.map(function(d){return{header:{show:c.addHeader,
title:c.reportTitle||b.getReportTitle(),subtitle:c.reportSubtitle||b.printConfig.subtitle,siteName:d.name,siteDesc:d.description,siteAddr:d.address,latitude:d.latitude,longitude:d.longitude,style:{headerStyle:e,titleStyle:a.getTableDefaultStyles(null,"ReportTitle"),latLongStyle:a.getTableDefaultStyles(null,"GreyText")}},dataSource:{show:g&&c.addDataSource,sourceText:"Source: "+g,style:{dataSourceStyle:e}},footer:{show:c.addFooter,copyrightText:"\u00a9"+(new Date).getFullYear()+" Esri",formattedDate:k.getReportFooterDate(),
style:{footerStyle:e}},documentStyle:e}})})},_getSourceText:function(b,a,c){if(!c.addDataSource)return null;a=b.getReportData();return b.isDataDrillingPlayer?(b=a.config,c=l.collectVariablesStats(a.templateJson),a.templateVariableProvider.getVariablesDataVintageDescription({usedVariablesCache:c,countryID:b.countryID,hierarchy:b.hierarchy})):a.reportObject.dataVintageDescription}}});